(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(68),a(69),a(21)),s=a(138),l=a(140),u=a(144),m=a(135),v=Object(m.a)((function(e){return{root:{flexGrow:1,"& > *":{margin:e.spacing(1)}},menuButton:{marginRight:e.spacing(2)},link:{color:"#fff",textDecoration:"none"}}})),p=function(){var e=v();return r.a.createElement("header",null,r.a.createElement(s.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{variant:"contained",color:"secondary"},r.a.createElement(i.c,{to:"/",className:e.link,activeClassName:"active-link"},"Home")),r.a.createElement(u.a,{variant:"contained",color:"secondary"},r.a.createElement(i.c,{to:"/search",className:e.link,activeClassName:"active-link"},"Search")),r.a.createElement(u.a,{variant:"contained",color:"secondary"},r.a.createElement(i.c,{to:"/movies",className:e.link,activeClassName:"active-link"},"Movies"))))))},h=a(6),f=a(15),d=a(16),g=a(17),E=a(18),b=a(22),_=a.n(b),y=a(33),w=a(34),k=a.n(w),N="ab2a5163718534ea1fabec74ffd2cbd4",j="https://api.themoviedb.org/3/",O={getTrending:function(){var e=Object(y.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(N)).catch((function(e){throw e.message}));case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),searchMovie:function(){var e=Object(y.a)(_.a.mark((function e(t){var a,n,r,c=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:1,n=""!==t?"&query=".concat(t):"",e.prev=2,e.next=5,k.a.get("".concat(j,"search/movie?api_key=").concat(N,"&language=en-US").concat(n,"&page=").concat(a,"&include_adult=false")).catch((function(e){throw e.message}));case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),getMovieDetails:function(){var e=Object(y.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(j,"movie/").concat(t,"?api_key=").concat(N)).catch((function(e){throw e.message}));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getCastMovie:function(){var e=Object(y.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(j,"movie/").concat(t,"/credits?api_key=").concat(N)).catch((function(e){throw e.message}));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getReviewMovie:function(){var e=Object(y.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(j,"movie/").concat(t,"/reviews?api_key=").concat(N)).catch((function(e){throw e.message}));case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},M=(a(93),function(e){var t=e.id,a=e.title,n=e.release_date,c=e.poster_path;return r.a.createElement("div",{className:"film"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w220_and_h330_face/".concat(c),alt:a}),r.a.createElement(i.b,{className:"link__film",to:"/movies/".concat(t)},r.a.createElement("span",{className:"title__film"},a),r.a.createElement("span",{className:"release__date"},n)))}),x=(a(94),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:[]},e.fetchMovies=function(){O.getTrending().then((function(t){var a=t.data.results;e.setState({movie:a})})).catch((function(e){return console.log(e.message)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this.state.movie;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"movie__list"},e.map((function(e){var t=e.id,a=e.title,n=e.release_date,c=e.poster_path;return r.a.createElement(M,{key:t,id:t,title:a,release_date:n,poster_path:c})}))))}}]),a}(n.Component)),C=(a(95),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:[]},e.fetchMovies=function(){O.getTrending().then((function(t){var a=t.data.results;e.setState({movie:a})})).catch((function(e){return console.log(e.message)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this.state.movie;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"movie__list"},e.map((function(e){var t=e.id,a=e.title,n=e.release_date,c=e.poster_path;return r.a.createElement(M,{key:t,id:t,title:a,release_date:n,poster_path:c})}))))}}]),a}(n.Component)),S=a(44),D=a(143),q=a(141),A=(a(96),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:[],query:"",page:1,isLoading:!1},e.fetchMovie=function(){var t=e.state,a=t.query,n=t.page,r=t.movie;e.setState({isLoading:!0}),O.searchMovie(a,n).then((function(t){var a=t.data.results;e.setState({movie:[].concat(Object(S.a)(r),Object(S.a)(a))}),setTimeout((function(){e.setState({isLoading:!1})}),300)}))},e.handleSubmit=function(t){t.preventDefault();var a=t.target.searchMovie.value;e.setState((function(t){return t.query!==a?{movie:[],page:1,query:a}:{page:e.state.page+1}}))},e.loadMore=function(){e.setState({page:e.state.page+1})},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.query,r=a.page;t.query===n&&t.page===r||(this.setState({isLoading:!0}),this.fetchMovie())}},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.isLoading;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"search__wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(D.a,{id:"standard-secondary",style:{width:"100%"},label:"Search",color:"secondary",name:"searchMovie"}))),r.a.createElement("div",{className:"movie__list"},0!==t.length?t.map((function(e){var t=e.id,a=e.title,n=e.release_date,c=e.poster_path;return r.a.createElement(M,{key:t,id:t,title:a,release_date:n,poster_path:c})})):"There is no data",a&&r.a.createElement(q.a,{color:"secondary"}),0!==t.length&&r.a.createElement(u.a,{variant:"contained",onClick:this.loadMore,color:"primary"},"Load More")))}}]),a}(n.Component)),L=(a(97),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cast:[]},e.fetchCast=function(){var t=e.props.location.pathname.split("/")[2];O.getCastMovie(t).then((function(t){var a=t.data.cast;console.log(a),e.setState({cast:a})})).catch((function(e){return console.log(e.message)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchCast()}},{key:"render",value:function(){var e=this.state.cast;return r.a.createElement("div",{className:"character__list"},r.a.createElement("div",{className:"content__chars"},e.map((function(e){var t=e.character,a=e.id,n=e.name,c=e.profile_path;return r.a.createElement("div",{className:"character",key:a},r.a.createElement("img",{src:"//image.tmdb.org/t/p/w138_and_h175_face".concat(c),alt:n}),r.a.createElement("span",{className:"name"},n),r.a.createElement("span",{className:"char"},t))}))))}}]),a}(n.Component)),R=(a(98),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e.fetchCast=function(){var t=e.props.location.pathname.split("/")[2];O.getReviewMovie(t).then((function(t){var a=t.data.results;e.setState({reviews:a})})).catch((function(e){return console.log(e.message)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchCast()}},{key:"render",value:function(){var e=this.state.reviews;return r.a.createElement("div",{className:"reviews__list"},e.map((function(e){var t=e.id,a=e.content,n=e.author;return r.a.createElement("div",{className:"review",key:t},r.a.createElement("span",{className:"name"},n),r.a.createElement("p",{className:"descr"},a))})))}}]),a}(n.Component)),T=a(142),I=(a(99),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={details:{}},e.fetchMovieDetails=function(){var t=e.props.location.pathname.split("/")[2];O.getMovieDetails(t).then((function(t){var a=t.data;console.log(a),e.setState({details:a})})).catch((function(e){console.log(e)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchMovieDetails()}},{key:"render",value:function(){var e=this.state.details,t=e.poster_path,a=e.backdrop_path,n=e.title,c=e.release_date,o=e.overview,s=this.props.location;return r.a.createElement("div",{className:"movie__details-page"},r.a.createElement("div",{className:"banner"},r.a.createElement("img",{src:"//image.tmdb.org/t/p/w1920_and_h800_multi_faces/".concat(a),alt:n}),r.a.createElement("div",{className:"filter"})),r.a.createElement("div",{className:"container movie__content"},r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:3},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w220_and_h330_face/".concat(t),alt:n})),r.a.createElement(T.a,{item:!0,xs:9},r.a.createElement("h1",null,n),r.a.createElement("span",{className:"date"},"Release date: ",c),r.a.createElement("p",{className:"description"},o),r.a.createElement("div",{className:"nav"},r.a.createElement(u.a,{variant:"contained",color:"secondary"},r.a.createElement(i.c,{to:"/movies/".concat(s.pathname.split("/")[2],"/cast"),activeClassName:"active-link",className:"tabs-btn"},"Cast")),r.a.createElement(u.a,{variant:"contained",color:"secondary"},r.a.createElement(i.c,{to:"/movies/".concat(s.pathname.split("/")[2],"/reviews"),activeClassName:"active-link",className:"tabs-btn"},"Reviews"))))),r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/movies/:movieId/cast",component:L}),r.a.createElement(h.a,{exact:!0,path:"/movies/:movieId/reviews",component:R}))))))}}]),a}(n.Component)),B=function(){return r.a.createElement("div",null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:x}),r.a.createElement(h.a,{exact:!0,path:"/movies",component:C}),r.a.createElement(h.a,{exact:!0,path:"/search",component:A}),r.a.createElement(h.a,{path:"/movies/:movieId",component:I})))};var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(B,null))};o.a.render(r.a.createElement(i.a,null,r.a.createElement(J,null)),document.getElementById("root"))},63:function(e,t,a){e.exports=a(100)},68:function(e,t,a){},69:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.e2729c9e.chunk.js.map